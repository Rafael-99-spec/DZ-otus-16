# ДЗ №16 Запретить всем пользователям, кроме группы admin логин в выходные (суббота и воскресенье), без учета праздников. * дать конкретному пользователю права работать с докером и возможность рестартить докер сервис
--------------------------------------------------------------------------------------------

Внутри репозитория DZ-otus-16 находятся все необходимые файлы для развертывания стенда для поднятия которого достаточно набрать в командной строке `vagrant up`. 

После запуска Vagrant поднимается ВМ с названием `default` , внутри виртуальной машины настраивается `PAM` модуль для ограничения доступа на аутентификацию через ssh.

Создается группа `admin` и два пользователя - `allowed` и `unable`. `allowed` входит в группу `admin`, и является единственным пользователем в системе который может залогиниться на ВМ через `ssh` в выходные, поскольку входит в группу `admin`. Именно с помощью `pam_script` технология pam определяет, что доступ на ВМ в субботу и воскресение могут иметь исключительно члены группы `admin`. 

Для того чтобы не дождаться выходных в `other_tasks.sh` заданы две команды через systemd-утилиту timedatectl, которые отключают автоматическую синхронизацию по ntp 
и сменяют дату на 25 июля 2020го года(суббота). 

Пользователю `allowed` дополнительно заданы права в файле - `/etc/pam.d/su` для запуска root-сессий через `su`.

Для тестирования работы стенда достаточно всего лишь осуществлять попытку аутентификации через `allowed(password - allowed)`, `unable(password - unable)`. В случае с пользователем `unable` и даже `root(password - toor)` аутентификация в выходные дни запрещена, в остальные дни недели доступ по `ssh` есть.
